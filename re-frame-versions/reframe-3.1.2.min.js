!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("immutable"),require("rxjs"),require("react"),require("immutablediff")):"function"==typeof define&&define.amd?define(["immutable","rxjs","react","immutablediff"],e):"object"==typeof exports?exports.reframe=e(require("immutable"),require("rxjs"),require("react"),require("immutablediff")):t.reframe=e(t.Immutable,t.Rx,t.React,t[void 0])}("undefined"!=typeof self?self:this,function(t,e,n,r){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="dist",n(n.s=6)}([function(e,n){e.exports=t},function(t,n){t.exports=e},function(t,e){t.exports=n},function(t,e,n){"use strict";var r=n(2),i=n(7);if(void 0===r)throw Error("create-react-class could not find the React object. If you are using script tags, make sure that React is being loaded before create-react-class.");var o=(new r.Component).updater;t.exports=i(r.Component,r.isValidElement,o)},function(t,e){t.exports=r},,function(t,e,n){t.exports=n(11)},function(t,e,n){"use strict";var r=n(8),i=n(9),o=n(10),u="mixins";t.exports=function(t,e,n){var s=[],c={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",UNSAFE_componentWillMount:"DEFINE_MANY",UNSAFE_componentWillReceiveProps:"DEFINE_MANY",UNSAFE_componentWillUpdate:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},a={getDerivedStateFromProps:"DEFINE_MANY_MERGED"},f={displayName:function(t,e){t.displayName=e},mixins:function(t,e){if(e)for(var n=0;n<e.length;n++)h(t,e[n])},childContextTypes:function(t,e){t.childContextTypes=r({},t.childContextTypes,e)},contextTypes:function(t,e){t.contextTypes=r({},t.contextTypes,e)},getDefaultProps:function(t,e){t.getDefaultProps?t.getDefaultProps=p(t.getDefaultProps,e):t.getDefaultProps=e},propTypes:function(t,e){t.propTypes=r({},t.propTypes,e)},statics:function(t,e){!function(t,e){if(e)for(var n in e){var r=e[n];if(e.hasOwnProperty(n)){var i=n in f;o(!i,'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',n);var u=n in t;if(u){var s=a.hasOwnProperty(n)?a[n]:null;return o("DEFINE_MANY_MERGED"===s,"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",n),void(t[n]=p(t[n],r))}t[n]=r}}}(t,e)},autobind:function(){}};function l(t,e){var n=c.hasOwnProperty(e)?c[e]:null;g.hasOwnProperty(e)&&o("OVERRIDE_BASE"===n,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",e),t&&o("DEFINE_MANY"===n||"DEFINE_MANY_MERGED"===n,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",e)}function h(t,n){if(n){o("function"!=typeof n,"ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."),o(!e(n),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var r=t.prototype,i=r.__reactAutoBindPairs;for(var s in n.hasOwnProperty(u)&&f.mixins(t,n.mixins),n)if(n.hasOwnProperty(s)&&s!==u){var a=n[s],h=r.hasOwnProperty(s);if(l(h,s),f.hasOwnProperty(s))f[s](t,a);else{var d=c.hasOwnProperty(s);if("function"!=typeof a||d||h||!1===n.autobind)if(h){var b=c[s];o(d&&("DEFINE_MANY_MERGED"===b||"DEFINE_MANY"===b),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",b,s),"DEFINE_MANY_MERGED"===b?r[s]=p(r[s],a):"DEFINE_MANY"===b&&(r[s]=v(r[s],a))}else r[s]=a;else i.push(s,a),r[s]=a}}}}function d(t,e){for(var n in o(t&&e&&"object"==typeof t&&"object"==typeof e,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects."),e)e.hasOwnProperty(n)&&(o(void 0===t[n],"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",n),t[n]=e[n]);return t}function p(t,e){return function(){var n=t.apply(this,arguments),r=e.apply(this,arguments);if(null==n)return r;if(null==r)return n;var i={};return d(i,n),d(i,r),i}}function v(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}}function b(t,e){return e.bind(t)}var y={componentDidMount:function(){this.__isMounted=!0}},_={componentWillUnmount:function(){this.__isMounted=!1}},g={replaceState:function(t,e){this.updater.enqueueReplaceState(this,t,e)},isMounted:function(){return!!this.__isMounted}},m=function(){};return r(m.prototype,t.prototype,g),function(t){var e=function(t,r,u){this.__reactAutoBindPairs.length&&function(t){for(var e=t.__reactAutoBindPairs,n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];t[r]=b(t,i)}}(this),this.props=t,this.context=r,this.refs=i,this.updater=u||n,this.state=null;var s=this.getInitialState?this.getInitialState():null;o("object"==typeof s&&!Array.isArray(s),"%s.getInitialState(): must return an object or null",e.displayName||"ReactCompositeComponent"),this.state=s};for(var r in e.prototype=new m,e.prototype.constructor=e,e.prototype.__reactAutoBindPairs=[],s.forEach(h.bind(null,e)),h(e,y),h(e,t),h(e,_),e.getDefaultProps&&(e.defaultProps=e.getDefaultProps()),o(e.prototype.render,"createClass(...): Class specification must implement a `render` method."),c)e.prototype[r]||(e.prototype[r]=null);return e}}},function(t,e,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(t){r[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var n,u,s=function(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),c=1;c<arguments.length;c++){for(var a in n=Object(arguments[c]))i.call(n,a)&&(s[a]=n[a]);if(r){u=r(n);for(var f=0;f<u.length;f++)o.call(n,u[f])&&(s[u[f]]=n[u[f]])}}return s}},function(t,e,n){"use strict";t.exports={}},function(t,e,n){"use strict";var r=function(t){};t.exports=function(t,e,n,i,o,u,s,c){if(r(e),!t){var a;if(void 0===e)a=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var f=[n,i,o,u,s,c],l=0;(a=new Error(e.replace(/%s/g,function(){return f[l++]}))).name="Invariant Violation"}throw a.framesToPop=1,a}}},function(t,e,n){"use strict";n.r(e);var r={};n.r(r),n.d(r,"toggleDebug",function(){return cn}),n.d(r,"toggleReactDebug",function(){return an}),n.d(r,"isDebug",function(){return fn}),n.d(r,"atom",function(){return ln}),n.d(r,"getHandler",function(){return hn}),n.d(r,"reaction",function(){return dn}),n.d(r,"cursor",function(){return pn}),n.d(r,"appDb",function(){return vn}),n.d(r,"db$",function(){return bn}),n.d(r,"dispatch",function(){return yn}),n.d(r,"dispatchSync",function(){return _n}),n.d(r,"toInterceptor",function(){return gn}),n.d(r,"enqueue",function(){return mn}),n.d(r,"getCoeffect",function(){return wn}),n.d(r,"getEffect",function(){return En}),n.d(r,"assocEffect",function(){return xn}),n.d(r,"assocCoeffect",function(){return Sn}),n.d(r,"when",function(){return kn}),n.d(r,"debug",function(){return In}),n.d(r,"path",function(){return Nn}),n.d(r,"enrich",function(){return On}),n.d(r,"trimv",function(){return Dn}),n.d(r,"after",function(){return An}),n.d(r,"onChanges",function(){return jn}),n.d(r,"regSubRaw",function(){return Cn}),n.d(r,"regSub",function(){return Pn}),n.d(r,"subscribe",function(){return Tn}),n.d(r,"clearSub",function(){return Mn}),n.d(r,"clearSubscriptionCache",function(){return Rn}),n.d(r,"regFx",function(){return Fn}),n.d(r,"clearFx",function(){return qn}),n.d(r,"regCofx",function(){return Yn}),n.d(r,"injectCofx",function(){return Vn}),n.d(r,"clearCofx",function(){return Un}),n.d(r,"clearEvent",function(){return Wn}),n.d(r,"regEventDb",function(){return Hn}),n.d(r,"regEventFx",function(){return Bn}),n.d(r,"regEventCtx",function(){return Qn}),n.d(r,"viewP",function(){return Gn}),n.d(r,"viewV",function(){return zn}),n.d(r,"viewSP",function(){return Ln}),n.d(r,"viewSV",function(){return Kn}),n.d(r,"view",function(){return $n}),n.d(r,"ui",function(){return Jn}),n.d(r,"uix",function(){return Xn}),n.d(r,"render",function(){return Zn}),n.d(r,"flush",function(){return tr}),n.d(r,"indexPath",function(){return nr}),n.d(r,"registerSub",function(){return rr}),n.d(r,"registerHandler",function(){return ir}),n.d(r,"compMiddleware",function(){return or}),n.d(r,"swap",function(){return ur}),n.d(r,"reset",function(){return sr}),n.d(r,"markFlushDom",function(){return cr}),n.d(r,"deref",function(){return ar});var i={cofx:{},fx:{},event:{},sub:{}};function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=i[t][e];return n&&!r&&console.error("re-frame: no",t,"handler registered for:",e),r}function u(t,e,n){return i[t][e]=n,n}function s(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;void 0!==t&&void 0!==e?delete i[t][e]:"undefined"!==t?i[t]={}:(i.cofx={},i.fx={},i.event={},i.sub={})}var c=n(0),a=n.n(c);a.a.Set(["id","before","after"]);function f(t){var e=t.id,n=t.before,r=t.after;return a.a.Map({id:e||"unnamed",before:n,after:r})}function l(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return e?t.getIn(["effects",e],n):t.get("effects")}function h(t,e,n){return t.setIn(["effects",e],n)}function d(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return e?t.getIn(["coeffects",e],n):t.get("coeffects")}function p(t,e,n){return t.setIn(["coeffects",e],n)}function v(t,e,n){var r=e.get(n);return r?r(t):t}function b(t,e){var n=t;do{var r=n.get("queue");if(r.isEmpty())return n;var i=r.first(),o=n.get("stack",a.a.List());n=v(n.set("queue",r.shift()).set("stack",o.unshift(i)),i,e)}while(n&&!n.get("queue").isEmpty());return n}function y(t,e){return t.update("queue",a.a.List(),function(t){return t.concat(a.a.List(e))})}function _(t,e){var n=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=a.a.Map();return r=p(r,"event",t),void 0!==n&&(r=p(r,"db",n)),r=y(r,e)}(t,e);return n=b(n,"before"),n=b(n=function(t){return y(t.delete("queue"),t.get("stack"))}(n),"after")}function g(t){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function m(t,e,n){return(m="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=g(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function w(t){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function E(t){return(E="function"==typeof Symbol&&"symbol"===w(Symbol.iterator)?function(t){return w(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":w(t)})(t)}function x(t,e){return!e||"object"!==E(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function S(t,e){return(S=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function k(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&S(t,e)}function I(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function N(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function O(t,e,n){return e&&N(t.prototype,e),n&&N(t,n),t}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var D=function(t,e){return(D=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function A(t,e){function n(){this.constructor=t}D(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function j(t){return"function"==typeof t}var C=!1,P={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){t&&(new Error).stack;C=t},get useDeprecatedSynchronousErrorHandling(){return C}};function T(t){setTimeout(function(){throw t})}var M={closed:!0,next:function(t){},error:function(t){if(P.useDeprecatedSynchronousErrorHandling)throw t;T(t)},complete:function(){}},R=Array.isArray||function(t){return t&&"number"==typeof t.length};var F,q={e:{}};function Y(){try{return F.apply(this,arguments)}catch(t){return q.e=t,q}}function V(t){return F=t,Y}function U(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map(function(t,e){return e+1+") "+t.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}U.prototype=Object.create(Error.prototype);var W=U,H=function(){function t(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}var e;return t.prototype.unsubscribe=function(){var t,e=!1;if(!this.closed){var n=this._parent,r=this._parents,i=this._unsubscribe,o=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var u,s=-1,c=r?r.length:0;n;)n.remove(this),n=++s<c&&r[s]||null;if(j(i))V(i).call(this)===q&&(e=!0,t=t||(q.e instanceof W?B(q.e.errors):[q.e]));if(R(o))for(s=-1,c=o.length;++s<c;){var a=o[s];if(null!=(u=a)&&"object"==typeof u)if(V(a.unsubscribe).call(a)===q){e=!0,t=t||[];var f=q.e;f instanceof W?t=t.concat(B(f.errors)):t.push(f)}}if(e)throw new W(t)}},t.prototype.add=function(e){if(!e||e===t.EMPTY)return t.EMPTY;if(e===this)return this;var n=e;switch(typeof e){case"function":n=new t(e);case"object":if(n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if("function"!=typeof n._addParent){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(n),n._addParent(this),n},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},t.prototype._addParent=function(t){var e=this._parent,n=this._parents;e&&e!==t?n?-1===n.indexOf(t)&&n.push(t):this._parents=[t]:this._parent=t},t.EMPTY=((e=new t).closed=!0,e),t}();function B(t){return t.reduce(function(t,e){return t.concat(e instanceof W?e.errors:e)},[])}var Q="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),G=function(t){function e(n,r,i){var o=t.call(this)||this;switch(o.syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,o._parentSubscription=null,arguments.length){case 0:o.destination=M;break;case 1:if(!n){o.destination=M;break}if("object"==typeof n){n instanceof e?(o.syncErrorThrowable=n.syncErrorThrowable,o.destination=n,n.add(o)):(o.syncErrorThrowable=!0,o.destination=new z(o,n));break}default:o.syncErrorThrowable=!0,o.destination=new z(o,n,r,i)}return o}return A(e,t),e.prototype[Q]=function(){return this},e.create=function(t,n,r){var i=new e(t,n,r);return i.syncErrorThrowable=!1,i},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parent,e=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=t,this._parents=e,this._parentSubscription=null,this},e}(H),z=function(t){function e(e,n,r,i){var o,u=t.call(this)||this;u._parentSubscriber=e;var s=u;return j(n)?o=n:n&&(o=n.next,r=n.error,i=n.complete,n!==M&&(j((s=Object.create(n)).unsubscribe)&&u.add(s.unsubscribe.bind(s)),s.unsubscribe=u.unsubscribe.bind(u))),u._context=s,u._next=o,u._error=r,u._complete=i,u}return A(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;P.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,n=P.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):T(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;T(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};P.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){if(this.unsubscribe(),P.useDeprecatedSynchronousErrorHandling)throw t;T(t)}},e.prototype.__tryOrSetError=function(t,e,n){if(!P.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(e){return P.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=e,t.syncErrorThrown=!0,!0):(T(e),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(G);function L(t,e){return function(n){return n.lift(new K(t,e))}}var K=function(){function t(t,e){this.compare=t,this.keySelector=e}return t.prototype.call=function(t,e){return e.subscribe(new $(t,this.compare,this.keySelector))},t}(),$=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.keySelector=r,i.hasKey=!1,"function"==typeof n&&(i.compare=n),i}return A(e,t),e.prototype.compare=function(t,e){return t===e},e.prototype._next=function(t){var e=t;if(this.keySelector&&(e=V(this.keySelector)(t))===q)return this.destination.error(q.e);var n=!1;if(this.hasKey){if((n=V(this.compare)(this.key,e))===q)return this.destination.error(q.e)}else this.hasKey=!0;!1===Boolean(n)&&(this.key=e,this.destination.next(t))},e}(G),J=n(1),X=[],Z=1;function tt(t,e){try{return X.push(t),e()}finally{X.pop()}}function et(t){var e=X[X.length-1];void 0!==e&&t.subscribe(e)}var nt=function(){function t(e){I(this,t),this._type=e,this._id=Z++,this._observers=new Set,this._observables=new Set,this._onDispose=new Set}return O(t,[{key:"id",value:function(){return this._type+"-"+this._id}},{key:"equals",value:function(t){return this===t}},{key:"hashCode",value:function(){return this._id}},{key:"subscribe",value:function(t){t.notify||console.warn(t,t&&t.id&&t.id(),"has no callback notify"),this._observers.add(t),t.observe&&t.observe(this)}},{key:"unsubscribe",value:function(t){this._observers.delete(t),t.unobserve&&t.unobserve(this),0===this._observers.size&&this.dispose()}},{key:"observe",value:function(t){this._observables.add(t)}},{key:"unobserve",value:function(t){this._observables.delete(t)}},{key:"_notifyObservers",value:function(){this._observers.forEach(function(t){t.notify()})}},{key:"addOnDispose",value:function(t){this._onDispose.add(t)}},{key:"dispose",value:function(){var t=this;0===this._observers.size&&(this._observables.forEach(function(e){return e.unsubscribe(t)}),this._onDispose.forEach(function(t){return t()}))}},{key:"map",value:function(t){var e=this;return ct(function(){return t(e.deref())})}}]),t}(),rt=function(t){function e(t){var n;return I(this,e),(n=x(this,g(e).call(this,"a")))._value=t,n._subject=new J.BehaviorSubject(t),n}return k(e,nt),O(e,[{key:"subject",value:function(){return this._subject}},{key:"_valueChanged",value:function(t){t&&(this._notifyObservers(),this._subject.next(this._value))}},{key:"reset",value:function(t){var e=this._value;return this._value=t,this._valueChanged(this._value!==e),this._value}},{key:"swap",value:function(t){for(var e=this._value,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return this._value=t(this._value,r),this._valueChanged(this._value!==e),this._value}},{key:"deref",value:function(){return this._value}},{key:"isChanged",value:function(t){return this._value!==t}},{key:"peekValue",value:function(){return this._value}}]),e}(),it=function(t){function e(t){var n;return I(this,e),(n=x(this,g(e).call(this,t)))._type="ra",n}return k(e,rt),O(e,[{key:"deref",value:function(){return et(this),m(g(e.prototype),"deref",this).call(this)}}]),e}(),ot=function(t){function e(t){var n;return I(this,e),(n=x(this,g(e).call(this,"rx")))._f=t,n._dirty=!0,n}return k(e,nt),O(e,[{key:"_run",value:function(){this._state=tt(this,this._f),this._dirty=!1}},{key:"deref",value:function(){return this._dirty&&this._run(),et(this),this._state}},{key:"isChanged",value:function(t){return this._state!==t}},{key:"peekValue",value:function(){return this._state}},{key:"notify",value:function(){this._dirty=!0;var t=this._state;this._run(),t!==this._state&&this._notifyObservers()}},{key:"dispose",value:function(){m(g(e.prototype),"dispose",this).call(this),this._dirty=!0}}]),e}(),ut=function(t){function e(t){var n;return I(this,e),(n=x(this,g(e).call(this,"rxjs")))._value=void 0,n._rx=t,n}return k(e,nt),O(e,[{key:"deref",value:function(){var t=this;return this._subscription||(this._subscription=this._rx.pipe(L(function(t,e){return t===e})).subscribe(function(e){t._value=e,t._notifyObservers()})),et(this),this._value}},{key:"isChanged",value:function(t){return this._value!==t}},{key:"peekValue",value:function(){return this._value}},{key:"dispose",value:function(){m(g(e.prototype),"dispose",this).call(this),0===this._observers.size&&this._subscription&&(this._subscription.unsubscribe(),delete this._subscription)}}]),e}(),st=function(t){function e(t,n){var r;return I(this,e),(r=x(this,g(e).call(this,"cu")))._atom=t,r._cursor=t.map(function(){return t.deref().getIn(n)}),r._path=n,r}return k(e,nt),O(e,[{key:"deref",value:function(){return this._cursor.deref()}},{key:"dispose",value:function(){this._cursor.dispose()}},{key:"isChanged",value:function(t){return this._cursor.isChanged(t)}},{key:"reset",value:function(t){var e=this;this._atom.swap(function(n){return n.setIn(e._path,t)})}},{key:"swap",value:function(t){for(var e=this,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];this._atom.swap(function(n){return n.updateIn(e._path,function(e){return t.apply(void 0,[e].concat(r))})})}}]),e}();function ct(t,e){var n=new ot(t);return e&&e.onDispose&&n.addOnDispose(e.onDispose),n}function at(t){return new rt(t)}function ft(t){return new it(t)}function lt(t){return new ut(t)}function ht(t,e){return t instanceof J.Observable?e?lt(t).map(e).deref():lt(t).deref():e?t.map(e).deref():t.deref()}var dt=ft(a.a.Map()),pt="cofx";function vt(t,e){return u(pt,t,e)}function bt(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=o(pt,t);return f({id:"coeffects",before:function(t){return t.update("coeffects",function(t){return i.apply(void 0,[t].concat(n))})}})}vt("db",function(t){return t.set("db",dt.deref())});var yt=bt("db");function _t(t){if(Array.isArray(t))return t}function gt(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function mt(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}var wt="event",Et=function(t){return a.a.List(xt(t||[]))},xt=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=0,r=t.length;n<r;n++){var i=t[n];Array.isArray(i)?xt(i,e):i&&e.push(i)}return e};function St(t,e){return u(wt,t,Et(e))}var kt=null;function It(t){var e,n=_t(e=t)||gt(e)||mt(),r=n[0],i=(n.slice(1),o(wt,r,!0));if(kt)console.error('re-frame: while handling "',kt,'", dispatch-sync was called for "',t,"\". You can't call dispatch-sync within an event handler.");else try{return kt=t,_(t,i)}finally{kt=null}}function Nt(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||gt(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Ot(t,e){return _t(t)||function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var u,s=t[Symbol.iterator]();!(r=(u=s.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||mt()}function Dt(t){requestAnimationFrame?requestAnimationFrame(t):setTimeout(t,16)}var At=function(){function t(){I(this,t),this._isScheduled=!1}return O(t,[{key:"enqueue",value:function(t,e){this[t]||(this[t]=[]),this[t].push(e),this.schedule()}},{key:"runFuns",value:function(t){var e=this[t];delete this[t],e&&e.forEach(function(t){return t()})}},{key:"schedule",value:function(){this._isScheduled||(this._isScheduled=!0,Dt(function(){return this.runQueues()}.bind(this)))}},{key:"queueRender",value:function(t){this.enqueue("componentQueue",t)}},{key:"addBeforeFlush",value:function(t){this.enqueue("beforeFlush",t)}},{key:"addAfterRender",value:function(t){this.enqueue("afterRender",t)}},{key:"runQueues",value:function(){this._isScheduled=!1,this.flushQueues()}},{key:"flushAfterRender",value:function(){this.runFuns("afterRender")}},{key:"flushQueues",value:function(){var t,e;this.runFuns("beforeFlush"),this.componentQueue&&(t=this.componentQueue,(e=Nt(new Set(t))).sort(function(t,e){return t.state.renderOrder-e.state.renderOrder}),e.forEach(function(t){t.__reframe_rendered||t.tryForceUpdate()}),delete this.componentQueue),this.flushAfterRender()}}]),t}();window.__reframe_render_queue||(window.__reframe_render_queue=new At);var jt=window.__reframe_render_queue;function Ct(){jt.flushQueues()}function Pt(t){t.__reframe_rendered=!0}var Tt=Dt;function Mt(t){!function(t){jt.addAfterRender(t)}(t)}var Rt=at(a.a.Map({debug:!1,traceReact:!1,traceSub:!1}));function Ft(t){return Rt.deref().get(t)}function qt(){return Ft("traceReact")}function Yt(t,e){Rt.swap(function(n){return n.update(t,function(t){return void 0!==e?e:!t})})}var Vt="sub",Ut=at(a.a.Map());function Wt(){Ut.deref().forEach(function(t){return t.dispose()}),Ut.deref().isEmpty()||console.warn("Subscription cache should be empty after clearing it.")}function Ht(t,e){return(t||[]).join("|")+"|"+(e||[]).join("|")}function Bt(t,e,n){var r=Ht(t,e);return n.addOnDispose(function(){Ut.swap(function(t){return t.delete(r)})}),Ut.swap(function(t){return t.set(r,n)}),n}function Qt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.a.List();return Ut.deref().get(Ht(t,e))}function Gt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(void 0===e){var n=Qt(t);if(n)return n;var r=Ot(t,1)[0],i=o(Vt,r);if(i)return Bt(t,[],i(dt,t));console.error('re-frame: no subscription handler registered for: "',r,'". Returning a nil subscription.')}else{var u=Qt(t,e);if(u)return u;var s=Ot(t,1)[0],c=o(Vt,s);if(c){var a=ct(function(){return e.map(function(t){return t.deref()})}),f=ct(function(){return c(dt,a.deref())});return Bt(t,[],ct(function(){return f.deref().deref()}))}console.error('re-frame: no subscription handler registered for: "',s,'". Returning a nil subscription.')}}function zt(t,e){return Array.isArray(t)?t.map(function(t){return t.deref()}):t instanceof a.a.Map?t.map(function(t){return t.deref()}):t instanceof a.a.Seq?t.map(function(t){return t.deref()}):t&&t.deref?t.deref():void console.error("re-frame: in the reg-sub for ",query-id,", the input-signals function returns: ",t)}function Lt(t){switch(t.length){case 0:return function(){return dt};case 1:return t[0];case 2:return function(){return Gt(t[1])};default:return function(t){var e=function(t,e){for(var n=[],r=0;r<t.length;r+=e)n[n.length]=t.slice(r,r+e);return n}(t,2).map(function(t){return t[1]});return function(){return e.map(Gt)}}(t)}}var Kt=new J.BehaviorSubject;var $t={_flushDom:function(t){return Mt(function(){return setTimeout(t,0)})},yield:Tt};var Jt=function(){function t(){I(this,t),this._postEventCallbacks={},this._state="idle",this._queue=[]}return O(t,[{key:"addPostEventCallback",value:function(t,e){this._postEventCallbacks[t]&&console.warn("re-frame: overwriting existing post event call back with id:",t),this._postEventCallbacks[t]=e}},{key:"removePostEventCallback",value:function(t){this._postEventCallbacks[t]||console.warn("re-frame: could not remove post event call back with id:",t),delete this._postEventCallbacks[t]}},{key:"trigger",value:function(t,e){var n=Ot(function(t,e,n,r){if("pause"===n)return["paused",function(t){t._pause(r)}];if("idle"===e&&"add-event"===n)return["scheduled",function(t){t._addEvent(r),t._runNextTick()}];if("idle"===e&&"resume"===n)return["idle",function(t){}];if("scheduled"===e&&"add-event"===n)return["scheduled",function(t){t._addEvent(r)}];if("scheduled"===e&&"run-queue"===n)return["running",function(t){t._runQueue()}];if("scheduled"===e&&"resume"===n)return["scheduled",function(t){}];if("running"===e&&"add-event"===n)return["running",function(t){t._addEvent(r)}];if("running"===e&&"pause"===n)return["paused",function(t){t._pause(r)}];if("running"===e&&"exception"===n)return["idle",function(t){t._exception(r)}];if("running"===e&&"finish-run"===n)return 0===t._queue.length?["idle",function(){Kt.next(dt.peekValue())}]:["scheduled",function(t){Kt.next(dt.peekValue()),t._runNextTick()}];if("paused"===e&&"add-event"===n)return["paused",function(t){t._addEvent(r)}];if("paused"===e&&"run-queue"===n)return["paused",function(t){}];if("paused"===e&&"resume"===n)return["running",function(t){t._resume(r)}];throw new Error("re-frame: router state transition not found. State '"+e+"', trigger '"+n+"'")}(this,this._state,t,e),2),r=n[0],i=n[1];this._state=r,i&&i(this)}},{key:"_addEvent",value:function(t){this._queue.push(t)}},{key:"_process1stEventInQueue",value:function(){var t=this._queue[0];try{It(t),this._queue.shift(),this._callPostEventCallbacks(t)}catch(t){this.trigger("exception",t)}}},{key:"_runNextTick",value:function(){setTimeout(function(){return this.trigger("run-queue",null)}.bind(this),0)}},{key:"_runQueue",value:function(){for(var t=this,e=!1,n=function(n){var r=t._queue[0],i=Object.keys($t).map(function(t){return!!r[t]&&$t[t]}).filter(Boolean)[0];if(i)return t.trigger("pause",i),e=!0,"break";t._process1stEventInQueue()},r=this._queue.length;r>0;r--){if("break"===n())break}e||this.trigger("finish-run",null)}},{key:"_exception",value:function(t){throw this._queue=[],t}},{key:"_pause",value:function(t){var e=this;t&&t(function(){return e.trigger("resume",null)})}},{key:"_callPostEventCallbacks",value:function(t){var e=this;Object.keys(this._postEventCallbacks).forEach(function(n){e._postEventCallbacks[n](t,Nt(e._queue))})}},{key:"_resume",value:function(){this._queue[0]&&this._process1stEventInQueue(),this._runQueue()}}]),t}(),Xt=new(function(){function t(){I(this,t),this._fsm=new Jt}return O(t,[{key:"push",value:function(t){this._fsm.trigger("add-event",t)}},{key:"pause",value:function(){this._fsm.trigger("pause")}},{key:"resume",value:function(){this._fsm.trigger("resume")}},{key:"addPostEventCallback",value:function(t,e){this._fsm.addPostEventCallback(t,e)}},{key:"removePostEventCallback",value:function(t){this._fsm.removePostEventCallback(t)}}]),t}());function Zt(t){if(!t)throw new Error('re-frame: you called "dispatch" without an event vector.');Xt.push(t)}var te="fx";function ee(t,e){return u(te,t,e)}var ne=f({id:"do-fx",after:function(t){t.get("effects").forEach(function(e,n){var r=o(te,n,!0);r||console.error("No effect handler registered for effect",n,"ctx:",t),r&&r(e)})}});ee("dispatch-later",function(t){t.forEach(function(t){var e=t.ms,n=t.dispatch;Array.isArray(n)&&"number"==typeof e?setTimeout(function(){return Zt(n)},e):console.error('re-frame: ignoring bad "dispatch-later" value:',t)})}),ee("dispatch",function(t){Array.isArray(t)?Zt(t):console.error("re-frame: ignoring bad :dispatch value. Expected a vector, but got:",t)}),ee("dispatch-n",function(t){!Array.isArray(t)&&t.map(function(t){return!Array.isArray(t)}).filter(Boolean).length>0?console.error("re-frame: ignoring bad :dispatch-n value. Expected a collection, got got:",t):t.forEach(function(t){return Zt(t)})}),ee("deregister-event-handler",function(t){a.a.isSeq(t)||Array.isArray(t)?t.forEach(function(t){return s(te,t)}):s(te,t)}),ee("db",function(t){dt.reset(t)});var re=n(2),ie=n.n(re),oe=n(3),ue=n.n(oe);function se(t){return t instanceof a.a.Iterable}function ce(t){var e=E(t);return"number"===e||"boolean"===e||"string"===e||null==t}function ae(t){return t instanceof nt}function fe(t,e,n){return n(t)&&n(e)}function le(t,e){return fe(t,e,ce)||fe(t,e,se)||fe(t,e,ae)?a.a.is(t,e):t instanceof J.Observable&&t===e}function he(t,e){if(t.length!==e.length)return!0;for(var n=Math.max(t.length,e.length),r=0;r<n;r++)if(!le(t[r],e[r]))return!0;return!1}function de(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=t?Object.keys(t):[],i=e?Object.keys(e):[],o=!0,u=!1,s=void 0;try{for(var c,a=new Set(r.concat(i))[Symbol.iterator]();!(o=(c=a.next()).done);o=!0){var f=c.value;if(!(n.length>0&&n.indexOf(f)>=0)&&!le(t[f],e[f]))return!0}}catch(t){u=!0,s=t}finally{try{o||null==a.return||a.return()}finally{if(u)throw s}}return!1}var pe={renderOrder:0,toUpdate:[]};function ve(t){return{shouldComponentUpdate:function(e,n){var r=t?he(this.props.argv,e.argv):de(this.props,e,["ctx"]),i=de(this.state,n);return r||i},getDisplayName:function(){return this.constructor.displayName},traceReact:function(t){qt()&&console.debug(t,this.getDisplayName(),{order:this.state.renderOrder,render:this.state.renderCycle,props:this.props,state:this.state})},id:function(){return this.getDisplayName()}}}var be=function(t){function e(t,n,r){var i;return I(this,e),(i=x(this,g(e).call(this,"de")))._componentId=t.id(),i._renderCycle=n,i._observable=r,i._lastValue=r.peekValue(),i}return k(e,nt),O(e,[{key:"notify",value:function(){this._notifyObservers()}},{key:"shouldDispose",value:function(t){return t>this._renderCycle}},{key:"dispose",value:function(){m(g(e.prototype),"dispose",this).call(this),this._observable.dispose()}},{key:"deref",value:function(){return this._lastValue}},{key:"shouldUpdate",value:function(){return this._observable.isChanged(this._lastValue)}}]),e}();function ye(t){return{derefSub:function(t,e){return ht(Gt(t),e)},getDisplayName:function(){return this.constructor.displayName},getInitialState:function(){return{watching:new Set,renderOrder:pe.renderOrder++,renderCycle:0}},observe:function(t){if(!this.state.watching.has(t)){var e=new be(this,this.state.renderCycle,t);this.state.watching.add(e),t.subscribe(e),e.subscribe(this),t.unsubscribe(this)}},id:function(){return this.getDisplayName()},notify:function(t){var e;this.traceReact("Notify"),(e=this).__reframe_rendered=!1,jt.queueRender(e)},tryForceUpdate:function(){(function(t){var e=!0,n=!1,r=void 0;try{for(var i,o=t[Symbol.iterator]();!(e=(i=o.next()).done);e=!0)if(i.value.shouldUpdate())return!0}catch(t){n=!0,r=t}finally{try{e||null==o.return||o.return()}finally{if(n)throw r}}return!1})(this.state.watching)&&(this.traceReact("Force update"),this.forceUpdate())},shouldComponentUpdate:function(e,n){return(t?he(this.props.argv,e.argv):de(this.props,e,["ctx"]))||de(this.state,n,["watching","renderOrder","renderCycle"])},deref:function(t,e,n){return ht(t,e)},unsubscribe:function(){var t=this;this.state.watching.forEach(function(e){e.unsubscribe(t),e.dispose()})},componentWillUpdate:function(){this.state.renderCycle++},componentDidUpdate:function(){var t=!0,e=!1,n=void 0;try{for(var r,i=this.state.watching[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var o=r.value;o.shouldDispose(this.state.renderCycle)&&(this.state.watching.delete(o),o.unsubscribe(this),o.dispose())}}catch(t){e=!0,n=t}finally{try{t||null==i.return||i.return()}finally{if(e)throw n}}},componentWillUnmount:function(){Pt(this),this.unsubscribe()},traceReact:function(t){qt()&&console.debug(t,this.getDisplayName(),{order:this.state.renderOrder,render:this.state.renderCycle,props:this.props,state:this.state})}}}function _e(t,e){var n;switch(e.length){case 2:void 0===e[1].prototype?(e[1].mixins=t,n=e[1]):n={mixins:t,render:e[1]};break;case 3:void 0===e[2].prototype?(e[2].mixins=t.concat(e[1]),n=e[2]):n={mixins:t.concat(e[1]),render:e[2]};break;default:throw new Error("Expected 2 or 3 arguments, got "+e.length)}return n.displayName=e[0],n}function ge(t,e){var n=_e(t,e),r=n.render;n.render=function(){var t=this;return this.traceReact("Render"),Pt(this),tt(this,function(){return r.call(t,t.props)})};var i=ue()(n),o=ie.a.createFactory(i);return function(t){return o(t)}}function me(t,e){var n=_e(t,e),r=n.render;return n.render=function(){var t=this;return this.traceReact("Render"),Pt(this),tt(this,function(){return r.call(t,t.props)})},function(t){return 3===Object.keys(t).length&&1===t.mixins.length}(n)?function(t){var e=function(e){function n(){return I(this,n),x(this,g(n).apply(this,arguments))}return k(n,e),O(n,[{key:"render",value:function(){return t.render.call(this)}}]),n}(Ee);return e.displayName=t.displayName,e}(n):ue()(n)}var we,Ee=(we=_e([ye(!1)],["proto",{render:function(){}}]),ue()(we));function xe(t,e){var n=_e(t,e),r=n.render;n.render=function(){var t=this;return this.traceReact("Render"),Pt(this),tt(this,function(){return r.apply(t,t.props.argv)})};var i=ue()(n),o=ie.a.createFactory(i);return function(){return o({argv:Array.prototype.slice.call(arguments)})}}function Se(){return xe([ye(!0)],arguments)}var ke=n(4),Ie=n.n(ke),Ne=f({id:"debug",before:function(t){return console.log("Handling re-frame event:",d(t,"event")),t},after:function(t){var e=d(t,"event"),n=d(t,"db"),r=l(t,"db","not-found"),i=t.getIn(["effects"],a.a.Map()).delete("db");if("not-found"===r)console.log("No :db changes caused by:",e);else{var o=Ie()(n,r);if(0===o.length)console.log("No :db changes caused by:",e);else{console.groupCollapsed("db diff for: ",e);try{o.forEach(function(t){console.log(t.get("op"),t.get("path"),t.get("value"))})}finally{console.groupEnd()}}}return i.size>0&&console.log("Effects caused by ",e,i),t}}),Oe=f({id:"trim-v",before:function(t){return t.updateIn(["coeffects","event"],function(t){return t.slice(1)}).setIn(["coeffects","untrimmed-event"],d(t,"event"))},after:function(t){return t.deleteIn(["coeffects","untrimmed-event"]).setIn(["coeffects","event"],d(t,"untrimmed-event"))}}),De=f({id:"db-handler"});function Ae(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new je(t,e))}}var je=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new Ce(t,this.project,this.thisArg))},t}(),Ce=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.project=n,i.count=0,i.thisArg=r||i,i}return A(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(G);var Pe="function"==typeof Symbol&&Symbol.observable||"@@observable";function Te(){}function Me(t){return t?1===t.length?t[0]:function(e){return t.reduce(function(t,e){return e(t)},e)}:Te}var Re=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var r=this.operator,i=function(t,e,n){if(t){if(t instanceof G)return t;if(t[Q])return t[Q]()}return t||e||n?new G(t,e,n):new G(M)}(t,e,n);if(r?r.call(i,this.source):i.add(this.source||P.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),P.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){P.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),!function(t){for(;t;){var e=t,n=e.closed,r=e.destination,i=e.isStopped;if(n||i)return!1;t=r&&r instanceof G?r:null}return!0}(t)?console.warn(e):t.error(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=Fe(e))(function(e,r){var i;i=n.subscribe(function(e){try{t(e)}catch(t){r(t),i&&i.unsubscribe()}},r,e)})},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[Pe]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:Me(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=Fe(t))(function(t,n){var r;e.subscribe(function(t){return r=t},function(t){return n(t)},function(){return t(r)})})},t.create=function(e){return new t(e)},t}();function Fe(t){if(t||(t=P.Promise||Promise),!t)throw new Error("no Promise impl found");return t}function qe(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}qe.prototype=Object.create(Error.prototype);var Ye=qe,Ve=function(t){function e(e,n){var r=t.call(this)||this;return r.subject=e,r.subscriber=n,r.closed=!1,r}return A(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},e}(H),Ue=function(t){function e(e){var n=t.call(this,e)||this;return n.destination=e,n}return A(e,t),e}(G),We=function(t){function e(){var e=t.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return A(e,t),e.prototype[Q]=function(){return new Ue(this)},e.prototype.lift=function(t){var e=new He(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new Ye;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].next(t)},e.prototype.error=function(t){if(this.closed)throw new Ye;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new Ye;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new Ye;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new Ye;return this.hasError?(t.error(this.thrownError),H.EMPTY):this.isStopped?(t.complete(),H.EMPTY):(this.observers.push(t),new Ve(this,t))},e.prototype.asObservable=function(){var t=new Re;return t.source=this,t},e.create=function(t,e){return new He(t,e)},e}(Re),He=function(t){function e(e,n){var r=t.call(this)||this;return r.destination=e,r.source=n,r}return A(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):H.EMPTY},e}(We),Be=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r}return A(e,t),e.prototype.schedule=function(e,n){return void 0===n&&(n=0),n>0?t.prototype.schedule.call(this,e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)},e.prototype.execute=function(e,n){return n>0||this.closed?t.prototype.execute.call(this,e,n):this._execute(e,n)},e.prototype.requestAsyncId=function(e,n,r){return void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0?t.prototype.requestAsyncId.call(this,e,n,r):e.flush(this)},e}(function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r.pending=!1,r}return A(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this},e.prototype.requestAsyncId=function(t,e,n){return void 0===n&&(n=0),setInterval(t.flush.bind(t,this),n)},e.prototype.recycleAsyncId=function(t,e,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var n=!1,r=void 0;try{this.work(t)}catch(t){n=!0,r=!!t&&t||new Error(t)}if(n)return this.unsubscribe(),r},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null},e}(function(t){function e(e,n){return t.call(this)||this}return A(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(H))),Qe=function(){function t(e,n){void 0===n&&(n=t.now),this.SchedulerAction=e,this.now=n}return t.prototype.schedule=function(t,e,n){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(n,e)},t.now=function(){return Date.now()},t}(),Ge=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return A(e,t),e}(function(t){function e(n,r){void 0===r&&(r=Qe.now);var i=t.call(this,n,function(){return e.delegate&&e.delegate!==i?e.delegate.now():r()})||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return A(e,t),e.prototype.schedule=function(n,r,i){return void 0===r&&(r=0),e.delegate&&e.delegate!==this?e.delegate.schedule(n,r,i):t.prototype.schedule.call(this,n,r,i)},e.prototype.flush=function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}},e}(Qe)))(Be),ze=new Re(function(t){return t.complete()});function Le(t){return t?function(t){return new Re(function(e){return t.schedule(function(){return e.complete()})})}(t):ze}var Ke=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.closed||e.complete()}};function $e(t,e){return new Re(e?function(n){var r=new H,i=0;return r.add(e.schedule(function(){i!==t.length?(n.next(t[i++]),n.closed||r.add(this.schedule())):n.complete()})),r}:Ke(t))}function Je(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n,r=t[t.length-1];switch((n=r)&&"function"==typeof n.schedule?t.pop():r=void 0,t.length){case 0:return Le(r);case 1:return r?$e(t,r):function(t){var e=new Re(function(e){e.next(t),e.complete()});return e._isScalar=!0,e.value=t,e}(t[0]);default:return $e(t,r)}}function Xe(t){var e=t.error;t.subscriber.error(e)}var Ze=function(){function t(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}return t.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},t.prototype.do=function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}},t.prototype.accept=function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)},t.prototype.toObservable=function(){var t,e;switch(this.kind){case"N":return Je(this.value);case"E":return t=this.error,new Re(e?function(n){return e.schedule(Xe,0,{error:t,subscriber:n})}:function(e){return e.error(t)});case"C":return Le()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}();var tn=function(t){function e(e,n,r){void 0===r&&(r=0);var i=t.call(this,e)||this;return i.scheduler=n,i.delay=r,i}return A(e,t),e.dispatch=function(t){var e=t.notification,n=t.destination;e.observe(n),this.unsubscribe()},e.prototype.scheduleMessage=function(t){this.destination.add(this.scheduler.schedule(e.dispatch,this.delay,new en(t,this.destination)))},e.prototype._next=function(t){this.scheduleMessage(Ze.createNext(t))},e.prototype._error=function(t){this.scheduleMessage(Ze.createError(t)),this.unsubscribe()},e.prototype._complete=function(){this.scheduleMessage(Ze.createComplete()),this.unsubscribe()},e}(G),en=function(){return function(t,e){this.notification=t,this.destination=e}}(),nn=function(t){function e(e,n,r){void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===n&&(n=Number.POSITIVE_INFINITY);var i=t.call(this)||this;return i.scheduler=r,i._events=[],i._infiniteTimeWindow=!1,i._bufferSize=e<1?1:e,i._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(i._infiniteTimeWindow=!0,i.next=i.nextInfiniteTimeWindow):i.next=i.nextTimeWindow,i}return A(e,t),e.prototype.nextInfiniteTimeWindow=function(e){var n=this._events;n.push(e),n.length>this._bufferSize&&n.shift(),t.prototype.next.call(this,e)},e.prototype.nextTimeWindow=function(e){this._events.push(new rn(this._getNow(),e)),this._trimBufferThenGetEvents(),t.prototype.next.call(this,e)},e.prototype._subscribe=function(t){var e,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,o=r.length;if(this.closed)throw new Ye;if(this.isStopped||this.hasError?e=H.EMPTY:(this.observers.push(t),e=new Ve(this,t)),i&&t.add(t=new tn(t,i)),n)for(var u=0;u<o&&!t.closed;u++)t.next(r[u]);else for(u=0;u<o&&!t.closed;u++)t.next(r[u].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e},e.prototype._getNow=function(){return(this.scheduler||Ge).now()},e.prototype._trimBufferThenGetEvents=function(){for(var t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length,o=0;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r},e}(We),rn=function(){return function(t,e){this.time=t,this.value=e}}();function on(t,e,n){return void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===e&&(e=Number.POSITIVE_INFINITY),function(r){return r.lift(function(t,e,n){var r,i,o=0,u=!1,s=!1;return function(c){o++,r&&!u||(u=!1,r=new nn(t,e,n),i=c.subscribe({next:function(t){r.next(t)},error:function(t){u=!0,r.error(t)},complete:function(){s=!0,r.complete()}}));var a=r.subscribe(this);return function(){o--,a.unsubscribe(),i&&0===o&&s&&i.unsubscribe()}}}(t,e,n))}}var un={},sn=function(){function t(e){I(this,t),this.listeners=a.a.Map(),this.rx=e}return O(t,[{key:"sub",value:function(t,e){for(var n=this,r=this,i=[],o=0;o<t.length;o++)i.push(Array.prototype.slice.call(t.slice(0,o+1)));return this.listeners=i.reduce(function(t,e){var i=e.slice(0,e.length-1),o=0===i.length?n.rx():t.getIn(i.concat(un)),u=e[e.length-1];return t.updateIn(e.concat(un),function(t){if(t)return t;var n=o.pipe(Ae(function(t){return t&&t.get?t.get(u):void 0}),L(function(t,e){return t===e}),on(1)),i=n.subscribe;return n.subscribe=function(){var t=i.apply(this,arguments),n=this;return new J.Subscription(function(){t.unsubscribe(),0===n._count&&(r.listeners=r.listeners.removeIn(e))})},n})},this.listeners),this.listeners.getIn(t.concat([un])).pipe(Ae(function(t){return void 0!==t?t:e}))}}]),t}();function cn(){Yt("debug",arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0)}function an(){Yt("traceReact",arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0)}function fn(){return Ft("debug")}function ln(t){return ft(t)}var hn=o;function dn(t){return ct(t)}function pn(t,e){return function(t,e){return new st(t,e)}(t,e)}var vn=dt,bn=dt.subject(),yn=Zt,_n=function(t){It(t),Xt._fsm._callPostEventCallbacks(t),Kt.next(dt.peekValue())},gn=f,mn=y,wn=d,En=l,xn=h,Sn=p,kn=function(t,e){return f({id:"when",before:function(n){return t()?function(t,e){return t.update("queue",a.a.List(),function(t){return t.unshift(e)})}(n,e):n}})},In=Ne,Nn=function(t){var e="reframe-path/db-store";return f({id:"path",before:function(n){var r=d(n,"db");return n=p(n=n.update(e,a.a.List(),function(t){return t.push(r)}),"db",r.getIn(t,a.a.Map()))},after:function(n){var r=n.get(e),i=r.last(),o=r.pop(),u=p(n.set(e,o),"db",i),s=l(n,"db","not-found");return"not-found"===s?u:h(u,"db",i.setIn(t,s))}})},On=function(t){return f({id:"enrich",after:function(e){var n=d(e,"event"),r=l(e,"db")||d(e,"db");return h(e,"db",t(r,n,d(e,"db")))}})},Dn=Oe,An=function(t){return f({id:"after",after:function(e){var n=d(e,"event"),r=l(e,"db")||d(e,"db");return t(r,n,d(e,"db")),e}})},jn=function(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return f({id:"on-changes",after:function(n){var i=d(n,"db"),o=l(n,"db"),u=r.map(function(t){return o.getIn(t)}),s=r.map(function(t){return i.getIn(t)});return u.zip(s).map(function(t){var e=Ot(t,2);return e[0]===e[1]}).contains(!1)?h(n,"db",o.setIn(e,t(u))):n}})};function Cn(t,e){return u(Vt,t,t)}var Pn=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=n[n.length-1],o=Lt(n.slice(0,n.length-1));return u(Vt,t,function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;if(void 0===n){var r=o(e);return ct(function(){return i(zt(r),e)})}var u=o(e,n);return ct(function(){return i(zt(u),e,n)})})},Tn=Gt;function Mn(t){s(Vt,t)}var Rn=Wt,Fn=ee;function qn(t){s(te,t)}var Yn=vt,Vn=bt;function Un(t){s(pt,t)}function Wn(t){s(wt,t)}function Hn(t,e,n){return void 0===n&&(n=e,e=null),St(t,[yt,ne,e,(r=n,De.set("before",function(t){var e=d(t,"db"),n=d(t,"event");return h(t,"db",r(e,n))}))]);var r}function Bn(t,e,n){return void 0===n&&(n=e,e=null),St(t,[yt,ne,e,(r=n,f({id:"fx-handler",before:function(t){var e=d(t,"event");return t.set("effects",a.a.Map(r(t.get("coeffects").toObject(),e)))}}))]);var r}function Qn(t,e,n){return void 0===n&&(n=e,e=null),St(t,[yt,ne,e,(r=n,f({id:"ctx-handler",before:r}))]);var r}var Gn=function(){return ge([ve(!1)],arguments)},zn=function(){return xe([ve(!0)],arguments)},Ln=function(){return ge([ye(!1)],arguments)},Kn=Se,$n=Se,Jn=function(t,e,n){return function(t,e){var n=me(t,e);return ie.a.createFactory(n)}([ye(!1)],arguments)},Xn=function(t,e,n){return me([ye(!1)],arguments)},Zn=Ct,tr=Ct,er=new sn(function(){return Kt});function nr(t,e){return er.sub(t,e)}function rr(t,e){return n=e,u(Vt,t,function(t,e){return arguments.length>2&&void 0!==arguments[2]&&arguments[2],lt(n(Kt,e))});var n}var ir=Hn;function or(t){return t}function ur(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return t.swap.apply(t,[e].concat(r))}function sr(t,e){return t.reset(e)}var cr=function(t){return t._flushDom=!0,t};function ar(t){return t.deref()}n.d(e,"toggleDebug",function(){return cn}),n.d(e,"toggleReactDebug",function(){return an}),n.d(e,"isDebug",function(){return fn}),n.d(e,"atom",function(){return ln}),n.d(e,"getHandler",function(){return hn}),n.d(e,"reaction",function(){return dn}),n.d(e,"cursor",function(){return pn}),n.d(e,"appDb",function(){return vn}),n.d(e,"db$",function(){return bn}),n.d(e,"dispatch",function(){return yn}),n.d(e,"dispatchSync",function(){return _n}),n.d(e,"toInterceptor",function(){return gn}),n.d(e,"enqueue",function(){return mn}),n.d(e,"getCoeffect",function(){return wn}),n.d(e,"getEffect",function(){return En}),n.d(e,"assocEffect",function(){return xn}),n.d(e,"assocCoeffect",function(){return Sn}),n.d(e,"when",function(){return kn}),n.d(e,"debug",function(){return In}),n.d(e,"path",function(){return Nn}),n.d(e,"enrich",function(){return On}),n.d(e,"trimv",function(){return Dn}),n.d(e,"after",function(){return An}),n.d(e,"onChanges",function(){return jn}),n.d(e,"regSubRaw",function(){return Cn}),n.d(e,"regSub",function(){return Pn}),n.d(e,"subscribe",function(){return Tn}),n.d(e,"clearSub",function(){return Mn}),n.d(e,"clearSubscriptionCache",function(){return Rn}),n.d(e,"regFx",function(){return Fn}),n.d(e,"clearFx",function(){return qn}),n.d(e,"regCofx",function(){return Yn}),n.d(e,"injectCofx",function(){return Vn}),n.d(e,"clearCofx",function(){return Un}),n.d(e,"clearEvent",function(){return Wn}),n.d(e,"regEventDb",function(){return Hn}),n.d(e,"regEventFx",function(){return Bn}),n.d(e,"regEventCtx",function(){return Qn}),n.d(e,"viewP",function(){return Gn}),n.d(e,"viewV",function(){return zn}),n.d(e,"viewSP",function(){return Ln}),n.d(e,"viewSV",function(){return Kn}),n.d(e,"view",function(){return $n}),n.d(e,"ui",function(){return Jn}),n.d(e,"uix",function(){return Xn}),n.d(e,"render",function(){return Zn}),n.d(e,"flush",function(){return tr}),n.d(e,"indexPath",function(){return nr}),n.d(e,"registerSub",function(){return rr}),n.d(e,"registerHandler",function(){return ir}),n.d(e,"compMiddleware",function(){return or}),n.d(e,"swap",function(){return ur}),n.d(e,"reset",function(){return sr}),n.d(e,"markFlushDom",function(){return cr}),n.d(e,"deref",function(){return ar});e.default=r}])});
//# sourceMappingURL=reframe.js.map
